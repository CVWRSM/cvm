<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Tue Jun 08 15:21:51 PDT 1999 -->
<title>
  Class com.sun.install.products.CmdUnit
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.install.products.html">This Package</a>  <a href="Package-com.sun.install.products.html">Previous</a>  <a href="com.sun.install.products.DesktopUnit.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class com.sun.install.products.CmdUnit
</h1>
<pre>
java.lang.Object
   |
   +----<a href="com.sun.install.products.InstallComponent.html#_top_">com.sun.install.products.InstallComponent</a>
           |
           +----<a href="com.sun.install.products.InstallLeaf.html#_top_">com.sun.install.products.InstallLeaf</a>
                   |
                   +----com.sun.install.products.CmdUnit
</pre>
<hr>
<dl>
  <dt> public class <b>CmdUnit</b>
  <dt> extends <a href="com.sun.install.products.InstallLeaf.html#_top_">InstallLeaf</a>
</dl>
CmdUnit is a logical representation of a command script to be run at
 install time as part of an installation sequence.
 <p>
 A CmdUnit can be
 constructed in one of two modes: archived or non-archived.
 <p>
 If constructed in archived mode, CmdUnit stores content of the script
 in the archive at build time, then recreates and runs the script
 on the install host at install time.
 <p>
 In non-archived mode, only the path to the script
 is stored in the archive, CmdUnit uses this path to locate and run
 the desired script on the install host at install time. The specified
 path can be relative or absolute. If it is a relative path, at
 install time CmdUnit will prepend the path with the Wizard constant
 <code>InstallConstants.currentInstallDirectory</code> to construct
 the absolute path to the script file.
 <p>
 An object of this type is designed to fit into the <em>product
 tree</em>.  The product tree is a tree-based representation of a
 product.  The tree is traversed during the install and each leaf
 installs the piece of the product that it has been tasked to.  When
 a CmdUnit is encountered in the tree, it will run a script whose
 name is provided in the constructor.
 <p>
 The CmdUnit class should be used in a builder class (one that is a
 subclass of com.sun.wizards.builder.ArchiveWriter).
 <p>
 Important: if the archive option is used, after instantiating or adding
 files to CmdUnit, the builder must call getCollection to retrieve the
 resource collection hold by CmdUnit, then add the collection to the
 wizard (via addCollection). For similar usage, see SolarisExampleBuilder
 or FileUnit.
 <p>
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#CmdUnit(java.util.Vector)"><b>CmdUnit</b></a>(Vector)
  <dd>  Create a CmdUnit.
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#CmdUnit(java.util.Vector, boolean)"><b>CmdUnit</b></a>(Vector, boolean)
  <dd>  Create a CmdUnit

 
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#CmdUnit(java.util.Vector, java.util.Vector, boolean)"><b>CmdUnit</b></a>(Vector, Vector, boolean)
  <dd>  Create a CmdUnit
 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addFile(java.lang.String, java.lang.String, java.util.Hashtable)"><b>addFile</b></a>(String, String, Hashtable)
  <dd>  Adds the specified file or directory to the list of files to be installed
 
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addRuntimeResources(java.util.Vector)"><b>addRuntimeResources</b></a>(Vector)
  <dd>  Add the runtime resources required by this class.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getCollection()"><b>getCollection</b></a>()
  <dd>  Retrieves the set of files this unit will write into the archive, along
 with each file's attributes.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#initialize(com.sun.wizards.core.WizardState)"><b>initialize</b></a>(WizardState)
  <dd>  Initialize this unit.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#install(com.sun.wizards.core.WizardState)"><b>install</b></a>(WizardState)
  <dd>  Install (i.e.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#refresh(java.util.Vector)"><b>refresh</b></a>(Vector)
  <dd> 
 Update this  file.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toString()"><b>toString</b></a>()
  <dd>  Represent this object as a string.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#uninstall(com.sun.wizards.core.WizardState)"><b>uninstall</b></a>(WizardState)
  <dd>  Uninstall this Leaf.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="CmdUnit"></a>
<a name="CmdUnit(java.util.Vector)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>CmdUnit</b>
<pre>
 public CmdUnit(Vector installCmds)
</pre>
<dl>
  <dd> Create a CmdUnit.  The install scripts will not be stored in the
 archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> installCmds - A vector containing pathnames of install scripts.
  </dl></dd>
</dl>
<a name="CmdUnit(java.util.Vector, boolean)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>CmdUnit</b>
<pre>
 public CmdUnit(Vector installCmds,
                boolean archiveCmd)
</pre>
<dl>
  <dd> Create a CmdUnit
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> installCmds - A vector containing pathnames of install scripts.
    <dd> archiveCmd - If true, the install scripts will
	be stored in the archive. If false, store only the paths.
  </dl></dd>
</dl>
<a name="CmdUnit(java.util.Vector, java.util.Vector, boolean)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>CmdUnit</b>
<pre>
 public CmdUnit(Vector installCmds,
                Vector uninstallCmds,
                boolean archiveCmd)
</pre>
<dl>
  <dd> Create a CmdUnit
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> installCmds - A vector containing pathnames of install scripts.
	If null, skip the install.
    <dd> uninstallCmd - A vector containing pathnames of the uninstall
	scripts. If null, skip the uninstall.
    <dd> archiveCmd - If true, the install and uninstall scripts will
	be stored in the archive. If false, store only the paths.
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="refresh(java.util.Vector)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="refresh"><b>refresh</b></a>
<pre>
 public boolean refresh(Vector targets)
</pre>
<dl>
  <dd> Update this  file.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> targets - The target properties (set via <code>setProperty()</code>)
	to update.
    <dt> <b>Returns:</b>
    <dd> <code>true</code> if the refresh was sucessful, <code>false</code>
	otherwise.
  </dl></dd>
</dl>
<a name="initialize(com.sun.wizards.core.WizardState)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="initialize"><b>initialize</b></a>
<pre>
 public boolean initialize(<a href="com.sun.wizards.core.WizardState.html#_top_">WizardState</a> state)
</pre>
<dl>
  <dd> Initialize this unit.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> wizardState - The WizardState this component belongs to.
    <dt> <b>Returns:</b>
    <dd> true, if scripts identified to be included in the archive were
		successfully archived; false otherwise.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.install.products.InstallComponent.html#initialize(com.sun.wizards.core.WizardState)">initialize</a> in class <a href="com.sun.install.products.InstallComponent.html#_top_">InstallComponent</a>
  </dl></dd>
</dl>
<a name="getCollection()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getCollection"><b>getCollection</b></a>
<pre>
 public <a href="com.sun.wizards.builder.resolver.ResourceCollection.html#_top_">ResourceCollection</a> getCollection()
</pre>
<dl>
  <dd> Retrieves the set of files this unit will write into the archive, along
 with each file's attributes.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> The ResourceCollection object  representing the files this
		CmdUnit requires in the archive.  All scripts associated
		with this CmdUnit that were specified as archived will
		be returned in the ResourceCollection object.
  </dl></dd>
</dl>
<a name="install(com.sun.wizards.core.WizardState)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="install"><b>install</b></a>
<pre>
 public boolean install(<a href="com.sun.wizards.core.WizardState.html#_top_">WizardState</a> state)
</pre>
<dl>
  <dd> Install (i.e. run) the scripts specified as install scripts.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> state - The wizard state.
    <dt> <b>Returns:</b>
    <dd> Whether the install was successful or not.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.install.products.InstallComponent.html#install(com.sun.wizards.core.WizardState)">install</a> in class <a href="com.sun.install.products.InstallComponent.html#_top_">InstallComponent</a>
  </dl></dd>
</dl>
<a name="uninstall(com.sun.wizards.core.WizardState)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="uninstall"><b>uninstall</b></a>
<pre>
 public boolean uninstall(<a href="com.sun.wizards.core.WizardState.html#_top_">WizardState</a> state)
</pre>
<dl>
  <dd> Uninstall this Leaf. This is run by the uninstaller at uninstall
 time.  This results in the scripts specified as uninstall scripts
 being executed.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> state - The wizard state.
    <dt> <b>Returns:</b>
    <dd> Whether the uninstall was sucessful or not.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.install.products.InstallComponent.html#uninstall(com.sun.wizards.core.WizardState)">uninstall</a> in class <a href="com.sun.install.products.InstallComponent.html#_top_">InstallComponent</a>
  </dl></dd>
</dl>
<a name="addFile(java.lang.String, java.lang.String, java.util.Hashtable)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addFile"><b>addFile</b></a>
<pre>
 public void addFile(String path,
                     String fileName,
                     Hashtable forcedPermissions)
</pre>
<dl>
  <dd> Adds the specified file or directory to the list of files to be installed
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> path - The path to the desired file(s) to be added.
             This can be a file or a directory.  If it is a directory, this
             method will recursively add all files in that directory,
             and the files will be laid down in the same relative directories
             as when collected.  The <code>path</code>argument will not be
             remembered.
    <dd> filename - The relative path to the desired file to be added.
             This can be a file or a directory.  If it is a directory, this
             method will recursively add all files in that directory.
      The filenames should be specified relative
      the the supplied path parameter.
    <dd> forcedPermissions - A hashtable consisting of filenames and
      the desired permissions or <code>null</code> if no forced
      permissions should be applied..  These permissions will
      override any other permissions for this file at
      install-time.
  </dl></dd>
</dl>
<a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toString"><b>toString</b></a>
<pre>
 public String toString()
</pre>
<dl>
  <dd> Represent this object as a string.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> A description of this object.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.install.products.InstallComponent.html#toString()">toString</a> in class <a href="com.sun.install.products.InstallComponent.html#_top_">InstallComponent</a>
  </dl></dd>
</dl>
<a name="addRuntimeResources(java.util.Vector)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addRuntimeResources"><b>addRuntimeResources</b></a>
<pre>
 public void addRuntimeResources(Vector resourceVector)
</pre>
<dl>
  <dd> Add the runtime resources required by this class.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> resourceVector - The vector containing all of the required resources
                       for this class
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.install.products.InstallLeaf.html#addRuntimeResources(java.util.Vector)">addRuntimeResources</a> in class <a href="com.sun.install.products.InstallLeaf.html#_top_">InstallLeaf</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.install.products.html">This Package</a>  <a href="Package-com.sun.install.products.html">Previous</a>  <a href="com.sun.install.products.DesktopUnit.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
