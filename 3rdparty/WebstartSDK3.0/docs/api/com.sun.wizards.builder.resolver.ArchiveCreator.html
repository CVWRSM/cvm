<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Tue Jun 08 15:21:51 PDT 1999 -->
<title>
  Class com.sun.wizards.builder.resolver.ArchiveCreator
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.wizards.builder.resolver.html">This Package</a>  <a href="Package-com.sun.wizards.builder.resolver.html">Previous</a>  <a href="com.sun.wizards.builder.resolver.ArchiveResolver.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class com.sun.wizards.builder.resolver.ArchiveCreator
</h1>
<pre>
java.lang.Object
   |
   +----com.sun.wizards.builder.resolver.ArchiveCreator
</pre>
<hr>
<dl>
  <dt> public class <b>ArchiveCreator</b>
  <dt> extends Object
  <dt> implements Serializable
</dl>
ArchiveCreator is responsible for creating a wizard archive.
 <p>
 The wizard archive consists of a ClassLoader (com.sun.wizards.builder.ArchiveClassLoader)
 which has a class attribute that contains the Java classes and information required
 to execute the wizard.
 <p>
 A subclass of ArchiveCreator must be written to define specifically what the wizard
 will contain.
 <p>
 <img src="images/SimpleWizard1.gif"
 ALT="Graphic of the first panel of the simple wizard."
 ALIGN=center HSPACE=10 VSPACE=7>
 <p>
 <img src="images/SimpleWizard2.gif"
 ALT="Graphic of the second panel of the simple wizard."
 ALIGN=center HSPACE=10 VSPACE=7>
 <p>
 Here is the code for this wizard builder:
 <p>
 <hr><blockquote><pre>
 import com.sun.wizards.core.WizardState;
 import com.sun.wizards.builder.ArchiveCreator;
 import com.sun.wizards.panels.*;
 public class SimpleWizardBuilder extends ArchiveCreator
 {
   public SimpleWizardBuilder()
   {
     super();
     this.archiveName = "simpleWizard";
   }
   protected void createClientTree()
   {
     super.createClientTree();
     WizardState wizardState = getWizardState();
     // Create the client panels.
     TextImagePanel firstPanel = new TextImagePanel(wizardState, "First Panel");
     firstPanel.addText("This is the first panel in the simple wizard.",
 		       0, 25);
     TextImagePanel secondPanel = new TextImagePanel(wizardState, "Second Panel");
     secondPanel.addText("This is the second panel in the simple wizard.",
 			0, 25);
     // Add the panels to the wizard.
     root.addChild(firstPanel);
     root.addChild(secondPanel);
   }
   public static void main(String[] args)
   {
     SimpleWizardBuilder simpleWizardBuilder = new SimpleWizardBuilder();
     simpleWizardBuilder.writeArchive();
   }
 }
 </pre></blockquote><hr>
 <p>
 In order to create the wizard from the SimpleWizardBuilder code above, compile
 and run SimpleWizardBuilder.java.  The result of running the SimpleWizardBuilder
 is a class file called "simpleWizard.class".  This class represents a composite
 of the com.sun.wizards.builder.ArchiveClassLoader and all of the runtime classes
 required to execute the wizard.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#API_VERSION"><b>API_VERSION</b></a>
  <dd>  The version of the Web Start Wizards API currently in use

  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#BUFFER_SIZE"><b>BUFFER_SIZE</b></a>
  <dd>  The size of the stream buffer when reading resources.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#systemInterface"><b>systemInterface</b></a>
  <dd>  SystemInterface for objects interacting with the native build-time platform.
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ArchiveCreator()"><b>ArchiveCreator</b></a>()
  <dd>  Creates empty Creator

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ArchiveCreator(com.sun.wizards.builder.resolver.ResourceResolver, com.sun.wizards.builder.resolver.ResourceCollection)"><b>ArchiveCreator</b></a>(ResourceResolver, ResourceCollection)
  <dd>  Create an ArchiveCreator with the default resolver and collection of resources.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addCollection(com.sun.wizards.builder.resolver.ResourceCollection)"><b>addCollection</b></a>(ResourceCollection)
  <dd>  Adds a collection to be written out to the archive.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addResource(java.lang.String, com.sun.wizards.builder.ResourceWriter)"><b>addResource</b></a>(String, ResourceWriter)
  <dd>  Add a resource to the archive.
<b>Deprecated.</b>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#closeSectionOutputStream()"><b>closeSectionOutputStream</b></a>()
  <dd>  Close the output stream.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#copyStream(java.io.DataInput, java.io.DataOutput, long)"><b>copyStream</b></a>(DataInput, DataOutput, long)
  <dd>  This utility method copies one stream to another.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#finalize()"><b>finalize</b></a>()
  <dd>  Finalizes this class before the runtime exits.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getArchiveName()"><b>getArchiveName</b></a>()
  <dd>  Returns the name of this wizard archive (without the ".class" extension)

 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getRoot()"><b>getRoot</b></a>()
  <dd>  Returns the WizardComposite object that is the root of the client
 tree.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getSectionOutputStream(java.io.DataOutputStream)"><b>getSectionOutputStream</b></a>(DataOutputStream)
  <dd>  This method gets an output stream for a section in the wizard
 archive.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getWizardState()"><b>getWizardState</b></a>()
  <dd>  Returns the WizardState object that will be written into the
 wizard archive.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setArchiveName(java.lang.String)"><b>setArchiveName</b></a>(String)
  <dd>  Sets the name of this archive, omitting the ".class" extension.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setRoot(com.sun.wizards.core.WizardComposite)"><b>setRoot</b></a>(WizardComposite)
  <dd>  Sets the WizardComposite object that will be the root of the client panel tree.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setWizardState(com.sun.wizards.core.WizardState)"><b>setWizardState</b></a>(WizardState)
  <dd>  Sets the WizardState object that will be written into the
 wizard archive.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#writeArchive(java.io.File)"><b>writeArchive</b></a>(File)
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#writeArchive(java.io.OutputStream)"><b>writeArchive</b></a>(OutputStream)
  <dd>  Write the archive file to the specified output stream.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#writeOffsetTable(java.io.DataOutput)"><b>writeOffsetTable</b></a>(DataOutput)
  <dd>  Write the offset table into the archive.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="API_VERSION"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>API_VERSION</b>
<pre>
 public static final String API_VERSION
</pre>
<dl>
  <dd> The version of the Web Start Wizards API currently in use<p>
</dl>
<a name="BUFFER_SIZE"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>BUFFER_SIZE</b>
<pre>
 public static final int BUFFER_SIZE
</pre>
<dl>
  <dd> The size of the stream buffer when reading resources.  The buffer might be
 smaller than this if the required memory is not available.<p>
</dl>
<a name="systemInterface"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>systemInterface</b>
<pre>
 public static <a href="com.sun.wizards.core.SystemInterface.html#_top_">SystemInterface</a> systemInterface
</pre>
<dl>
  <dd> SystemInterface for objects interacting with the native build-time platform.
 Any object that needs to interact with the buildtime platform can use this
 static field to do so.<p>
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="ArchiveCreator"></a>
<a name="ArchiveCreator()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ArchiveCreator</b>
<pre>
 public ArchiveCreator()
</pre>
<dl>
  <dd> Creates empty Creator
<p>
</dl>
<a name="ArchiveCreator(com.sun.wizards.builder.resolver.ResourceResolver, com.sun.wizards.builder.resolver.ResourceCollection)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ArchiveCreator</b>
<pre>
 public ArchiveCreator(<a href="com.sun.wizards.builder.resolver.ResourceResolver.html#_top_">ResourceResolver</a> defaultResolver,
                       <a href="com.sun.wizards.builder.resolver.ResourceCollection.html#_top_">ResourceCollection</a> defaultCollection)
</pre>
<dl>
  <dd> Create an ArchiveCreator with the default resolver and collection of resources.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> defaultResolver - The ResourceResolver for all resources that do not have an
     associated ResourceResolver.
    <dd> defaultCollection - The default set of classes to be included in this
    archive.
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="addCollection(com.sun.wizards.builder.resolver.ResourceCollection)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addCollection"><b>addCollection</b></a>
<pre>
 public void addCollection(<a href="com.sun.wizards.builder.resolver.ResourceCollection.html#_top_">ResourceCollection</a> collection)
</pre>
<dl>
  <dd> Adds a collection to be written out to the archive.  Each resource in the collection
 is associated with a ResourceResolver, which gets called upon to resolve each resource
 in the collection.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> collection - The collection to add
  </dl></dd>
</dl>
<a name="addResource(java.lang.String, com.sun.wizards.builder.ResourceWriter)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addResource"><b>addResource</b></a>
<pre>
 public void addResource(String name,
                         <a href="com.sun.wizards.builder.ResourceWriter.html#_top_">ResourceWriter</a> writer)
</pre>
<dl>
<dd><b> Note: addResource() is deprecated.</b>
<p>
  <dd> Add a resource to the archive.  At buildtime, this ResourceWriter
 will be called upon to write its contents to the archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> name - The name of the resource.
    <dd> writer - The object that will write the resource data into the archive.
  </dl></dd>
</dl>
<a name="getWizardState()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getWizardState"><b>getWizardState</b></a>
<pre>
 public <a href="com.sun.wizards.core.WizardState.html#_top_">WizardState</a> getWizardState()
</pre>
<dl>
  <dd> Returns the WizardState object that will be written into the
 wizard archive.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> The WizardState to be written into the wizard archive.
  </dl></dd>
</dl>
<a name="setWizardState(com.sun.wizards.core.WizardState)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setWizardState"><b>setWizardState</b></a>
<pre>
 public void setWizardState(<a href="com.sun.wizards.core.WizardState.html#_top_">WizardState</a> state)
</pre>
<dl>
  <dd> Sets the WizardState object that will be written into the
 wizard archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> state - The state to be used to write into the wizard archive
  </dl></dd>
</dl>
<a name="getRoot()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getRoot"><b>getRoot</b></a>
<pre>
 public <a href="com.sun.wizards.core.WizardComposite.html#_top_">WizardComposite</a> getRoot()
</pre>
<dl>
  <dd> Returns the WizardComposite object that is the root of the client
 tree.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> The WizardComposite to be written into the wizard archive,
    or null if none has been set.
  </dl></dd>
</dl>
<a name="setRoot(com.sun.wizards.core.WizardComposite)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setRoot"><b>setRoot</b></a>
<pre>
 public void setRoot(<a href="com.sun.wizards.core.WizardComposite.html#_top_">WizardComposite</a> root)
</pre>
<dl>
  <dd> Sets the WizardComposite object that will be the root of the client panel tree.
 wizard archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> root - The root of the client panel tree
  </dl></dd>
</dl>
<a name="getArchiveName()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getArchiveName"><b>getArchiveName</b></a>
<pre>
 public String getArchiveName()
</pre>
<dl>
  <dd> Returns the name of this wizard archive (without the ".class" extension)
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the name of this wizard archive (without the ".class" extension)
  </dl></dd>
</dl>
<a name="setArchiveName(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setArchiveName"><b>setArchiveName</b></a>
<pre>
 public void setArchiveName(String archiveName)
</pre>
<dl>
  <dd> Sets the name of this archive, omitting the ".class" extension.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> archiveName - The name of this archive
  </dl></dd>
</dl>
<a name="writeArchive(java.io.OutputStream)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="writeArchive"><b>writeArchive</b></a>
<pre>
 public void writeArchive(OutputStream archiveOut)
</pre>
<dl>
  <dd> Write the archive file to the specified output stream.
 <p>
 The [archiveName].class file is the wizard archive, and can be executed
 by running the class through the Java virtual machine.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> archiveOut - The output stream to which the archive will be written.
  </dl></dd>
</dl>
<a name="writeArchive(java.io.File)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="writeArchive"><b>writeArchive</b></a>
<pre>
 public void writeArchive(File archiveFile)
</pre>
<a name="copyStream(java.io.DataInput, java.io.DataOutput, long)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="copyStream"><b>copyStream</b></a>
<pre>
 public static void copyStream(DataInput in,
                               DataOutput out,
                               long length)
</pre>
<dl>
  <dd> This utility method copies one stream to another.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> in - The source stream
    <dd> out - The target stream
    <dd> length - The amount of data to copy
  </dl></dd>
</dl>
<a name="getSectionOutputStream(java.io.DataOutputStream)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getSectionOutputStream"><b>getSectionOutputStream</b></a>
<pre>
 protected DataOutput getSectionOutputStream(DataOutputStream out)
</pre>
<dl>
  <dd> This method gets an output stream for a section in the wizard
 archive.  This method will enable compression if the useCompression
 flag is set to true.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> out - The stream to configure the outputstream on top of
    <dt> <b>Returns:</b>
    <dd> An output stream for the archive section.
  </dl></dd>
</dl>
<a name="closeSectionOutputStream()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="closeSectionOutputStream"><b>closeSectionOutputStream</b></a>
<pre>
 protected void closeSectionOutputStream()
</pre>
<dl>
  <dd> Close the output stream.  This completes a compressed section,
 if compression is being used.
<p>
</dl>
<a name="writeOffsetTable(java.io.DataOutput)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="writeOffsetTable"><b>writeOffsetTable</b></a>
<pre>
 protected void writeOffsetTable(DataOutput out)
</pre>
<dl>
  <dd> Write the offset table into the archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> out - The output stream representing the archive.
  </dl></dd>
</dl>
<a name="finalize()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="finalize"><b>finalize</b></a>
<pre>
 protected void finalize()
</pre>
<dl>
  <dd> Finalizes this class before the runtime exits.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#finalize()">finalize</a> in class Object
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.wizards.builder.resolver.html">This Package</a>  <a href="Package-com.sun.wizards.builder.resolver.html">Previous</a>  <a href="com.sun.wizards.builder.resolver.ArchiveResolver.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
