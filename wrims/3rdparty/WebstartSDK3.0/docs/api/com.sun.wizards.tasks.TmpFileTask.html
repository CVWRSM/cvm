<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Tue Jun 08 15:21:51 PDT 1999 -->
<title>
  Class com.sun.wizards.tasks.TmpFileTask
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.wizards.tasks.html">This Package</a>  <a href="com.sun.wizards.tasks.PurposeTask.html#_top_">Previous</a>  <a href="Package-com.sun.wizards.tasks.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class com.sun.wizards.tasks.TmpFileTask
</h1>
<pre>
java.lang.Object
   |
   +----<a href="com.sun.wizards.core.Task.html#_top_">com.sun.wizards.core.Task</a>
           |
           +----com.sun.wizards.tasks.TmpFileTask
</pre>
<hr>
<dl>
  <dt> public class <b>TmpFileTask</b>
  <dt> extends <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  <dt> implements <a href="com.sun.wizards.builder.ResourceWriter.html#_top_">ResourceWriter</a>
</dl>
The TmpFileTask is able to write temporary files directly from the wizard
 archive.  The temporary files are removed when the sequence is completed.
 You might use this task to install a set of files in case of this Sequence
 failing.
 <p>
 For example, assume you have a set of files you want to write in
 case of an install failure (when the reverse() method would be
 called), and then clean them up at the end of the Sequence.  Assume
 the data "tmpDir" is already set in the WizardState and points to a
 valid temporary file directory. In your builder, you might use:
 <p>
 <hr><pre><blockquote>
 Sequence installSequence = new Sequence();
 TmpFileTask uninstallFilesTask = new TmpFileTask("uninstallFiles", "tmpDir", Sequence.REVERSE);
 // add files we want written out in case of failure
 uninstallFilesTask.addFile("../uninstallfiles/wipeout");
 uninstallFilesTask.addFile("../uninstallfiles/cleandisk");
 // make task part of the main sequence
 installSequence.addTask(uninstallFilesTask));
 // register the task with the ArchiveWriter so that our files will be written
 // into the Wizard archive, to later be extracted and written in case of a task
 // failure.
 addResource("uninstallFiles", uninstallFilesTask);
 <p>
 </blockquote></pre>
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#FORWARD"><b>FORWARD</b></a>
  <dd>  Flag indicating task should write its files during the 
 <code>perform()</code> method.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#REVERSE"><b>REVERSE</b></a>
  <dd>  Flag indicating task should write its files during the 
 <code>reverse()</code> method.
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TmpFileTask(java.lang.String, java.lang.String, boolean)"><b>TmpFileTask</b></a>(String, String, boolean)
  <dd>  Create a TmpFileTask that reads from the specified resource
 section in the archive.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addFile(java.lang.String)"><b>addFile</b></a>(String)
  <dd>  Adds the specified file or directory to the resource.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addRuntimeResources(java.util.Vector)"><b>addRuntimeResources</b></a>(Vector)
  <dd>  Add the runtime class requirements to the specified vector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#cleanup()"><b>cleanup</b></a>()
  <dd>  This method is called after the sequence has completed, and gives the
 task an opportunity to finish.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#estimatedCompletionTime(boolean)"><b>estimatedCompletionTime</b></a>(boolean)
  <dd>  An estimation of how long it will take to complete
 this task, in milliseconds.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ignore(boolean)"><b>ignore</b></a>(boolean)
  <dd>  Returns false if this task does not want to be
 ignored, or true if this task should be ignored.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#perform()"><b>perform</b></a>()
  <dd>  Perform this Task.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#requiresCleanup()"><b>requiresCleanup</b></a>()
  <dd>  If the task requires cleanup when the sequence has completed,
 this method should return true.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#reverse()"><b>reverse</b></a>()
  <dd>  Reverse this Task.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#writeResource(java.io.DataOutput)"><b>writeResource</b></a>(DataOutput)
  <dd>  This method writes the registered files into the archive.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#writeTmpFiles()"><b>writeTmpFiles</b></a>()
  <dd>  Write the files that are embedded in the wizard archive.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="FORWARD"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>FORWARD</b>
<pre>
 public static final boolean FORWARD
</pre>
<dl>
  <dd> Flag indicating task should write its files during the 
 <code>perform()</code> method.<p>
</dl>
<a name="REVERSE"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>REVERSE</b>
<pre>
 public static final boolean REVERSE
</pre>
<dl>
  <dd> Flag indicating task should write its files during the 
 <code>reverse()</code> method.<p>
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="TmpFileTask"></a>
<a name="TmpFileTask(java.lang.String, java.lang.String, boolean)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TmpFileTask</b>
<pre>
 public TmpFileTask(String resourceName,
                    String directoryKey,
                    boolean direction)
</pre>
<dl>
  <dd> Create a TmpFileTask that reads from the specified resource
 section in the archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> resourceName - The name of the archive resource containing
				files for this task.
    <dd> directoryKey - The key within the wizardState that identifies
				where the temporory files should be written.
    <dd> direction - Should be FORWARD if this task is to write its
				files during the perform method, or REVERSE if
				this task is to write its files during the
				reverse method.  This task always removes the
				files when the sequence is finished.
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="perform()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="perform"><b>perform</b></a>
<pre>
 public void perform()
</pre>
<dl>
  <dd> Perform this Task.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#perform()">perform</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="reverse()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="reverse"><b>reverse</b></a>
<pre>
 public void reverse()
</pre>
<dl>
  <dd> Reverse this Task.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#reverse()">reverse</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="requiresCleanup()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="requiresCleanup"><b>requiresCleanup</b></a>
<pre>
 public boolean requiresCleanup()
</pre>
<dl>
  <dd> If the task requires cleanup when the sequence has completed,
 this method should return true.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#requiresCleanup()">requiresCleanup</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="cleanup()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="cleanup"><b>cleanup</b></a>
<pre>
 public void cleanup()
</pre>
<dl>
  <dd> This method is called after the sequence has completed, and gives the
 task an opportunity to finish.  This method will only be called if
 requiresCleanup() returns true.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#cleanup()">cleanup</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="ignore(boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ignore"><b>ignore</b></a>
<pre>
 public boolean ignore(boolean direction)
</pre>
<dl>
  <dd> Returns false if this task does not want to be
 ignored, or true if this task should be ignored.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> direction - Which way we should traverse the product tree if we
		are ignoring the task
    <dt> <b>Returns:</b>
    <dd> true or false, depending on if this
		Task should be ignored.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#ignore(boolean)">ignore</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="estimatedCompletionTime(boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="estimatedCompletionTime"><b>estimatedCompletionTime</b></a>
<pre>
 public int estimatedCompletionTime(boolean direction)
</pre>
<dl>
  <dd> An estimation of how long it will take to complete
 this task, in milliseconds.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> direction - Which way we should traverse the product tree if we
		are ignoring the task
    <dt> <b>Returns:</b>
    <dd> The estimated time to complete in milliseconds.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#estimatedCompletionTime(boolean)">estimatedCompletionTime</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<a name="writeTmpFiles()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="writeTmpFiles"><b>writeTmpFiles</b></a>
<pre>
 public boolean writeTmpFiles()
</pre>
<dl>
  <dd> Write the files that are embedded in the wizard archive.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> true, when the write is completed.
  </dl></dd>
</dl>
<a name="addFile(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addFile"><b>addFile</b></a>
<pre>
 public void addFile(String path)
</pre>
<dl>
  <dd> Adds the specified file or directory to the resource.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> path - The file or directory to be added to the resource
  </dl></dd>
</dl>
<a name="writeResource(java.io.DataOutput)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="writeResource"><b>writeResource</b></a>
<pre>
 public void writeResource(DataOutput out)
</pre>
<dl>
  <dd> This method writes the registered files into the archive.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> out - The stream with which to write the registered files
  </dl></dd>
</dl>
<a name="addRuntimeResources(java.util.Vector)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addRuntimeResources"><b>addRuntimeResources</b></a>
<pre>
 public void addRuntimeResources(Vector resourceVector)
</pre>
<dl>
  <dd> Add the runtime class requirements to the specified vector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> resourceVector - The vector containing all runtime resources
 for this wizard.
    <dt> <b>Overrides:</b>
    <dd> <a href="com.sun.wizards.core.Task.html#addRuntimeResources(java.util.Vector)">addRuntimeResources</a> in class <a href="com.sun.wizards.core.Task.html#_top_">Task</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.sun.wizards.tasks.html">This Package</a>  <a href="com.sun.wizards.tasks.PurposeTask.html#_top_">Previous</a>  <a href="Package-com.sun.wizards.tasks.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
